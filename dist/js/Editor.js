function Dialog(t,i,n,a,e,l,r,o,s,A,g){var d,h=0,c=(mxClient.IS_VML&&(null==document.documentMode||document.documentMode<8)&&(h=80),n+=h),p=a+=h,m=mxUtils.getDocumentSize(),u=(null!=window.innerHeight&&(m.height=window.innerHeight),m.height),E=Math.max(1,Math.round((m.width-n-64)/2)),x=Math.max(1,Math.round((u-a-t.footerHeight)/3)),m=(mxClient.IS_QUIRKS||(i.style.maxHeight="100%"),n=null!=document.body?Math.min(n,document.body.scrollWidth-64):n,a=Math.min(a,u-64),0<t.dialogs.length&&(this.zIndex+=2*t.dialogs.length),null==this.bg&&(this.bg=t.createDiv("background"),this.bg.style.position="absolute",this.bg.style.background=Dialog.backdropColor,this.bg.style.height=u+"px",this.bg.style.right="0px",this.bg.style.zIndex=this.zIndex-2,mxUtils.setOpacity(this.bg,this.bgOpacity),mxClient.IS_QUIRKS&&new mxDivResizer(this.bg)),mxUtils.getDocumentScrollOrigin(document)),b=(this.bg.style.left=m.x+"px",this.bg.style.top=m.y+"px",E+=m.x,x+=m.y,e&&document.body.appendChild(this.bg),t.createDiv(s?"geTransDialog":"geDialog")),m=this.getPosition(E,x,n,a),E=m.x,x=m.y;b.style.width=n+"px",b.style.height=a+"px",b.style.left=E+"px",b.style.top=x+"px",b.style.zIndex=this.zIndex,b.appendChild(i),document.body.appendChild(b),!o&&i.clientHeight>b.clientHeight-64&&(i.style.overflowY="auto"),l&&((e=document.createElement("img")).setAttribute("src",Dialog.prototype.closeImage),e.setAttribute("title",mxResources.get("close")),e.className="geDialogClose",e.style.top=x+14+"px",e.style.left=E+n+38-h+"px",e.style.zIndex=this.zIndex,mxEvent.addListener(e,"click",mxUtils.bind(this,function(){t.hideDialog(!0)})),document.body.appendChild(e),this.dialogImg=e,g||(d=!1,mxEvent.addGestureListeners(this.bg,mxUtils.bind(this,function(e){d=!0}),null,mxUtils.bind(this,function(e){d&&(t.hideDialog(!0),d=!1)})))),this.resizeListener=mxUtils.bind(this,function(){null!=A&&null!=(e=A())&&(c=n=e.w,p=a=e.h);var e=mxUtils.getDocumentSize(),e=(u=e.height,this.bg.style.height=u+"px",E=Math.max(1,Math.round((e.width-n-64)/2)),x=Math.max(1,Math.round((u-a-t.footerHeight)/3)),n=null!=document.body?Math.min(c,document.body.scrollWidth-64):c,a=Math.min(p,u-64),this.getPosition(E,x,n,a));E=e.x,x=e.y,b.style.left=E+"px",b.style.top=x+"px",b.style.width=n+"px",b.style.height=a+"px",!o&&i.clientHeight>b.clientHeight-64&&(i.style.overflowY="auto"),null!=this.dialogImg&&(this.dialogImg.style.top=x+14+"px",this.dialogImg.style.left=E+n+38-h+"px")}),mxEvent.addListener(window,"resize",this.resizeListener),this.onDialogClose=r,this.container=b,t.editor.fireEvent(new mxEventObject("showDialog"))}(Editor=function(e,t,i,n,a){mxEventSource.call(this),this.chromeless=null!=e?e:this.chromeless,this.initStencilRegistry(),this.graph=n||this.createGraph(t,i),this.editable=null!=a?a:!e,this.undoManager=this.createUndoManager(),this.status="",this.getOrCreateFilename=function(){return this.filename||mxResources.get("drawing",[Editor.pageCounter])+".xml"},this.getFilename=function(){return this.filename},this.setStatus=function(e){this.status=e,this.fireEvent(new mxEventObject("statusChanged"))},this.getStatus=function(){return this.status},this.graphChangeListener=function(e,t){t=null!=t?t.getProperty("edit"):null;null!=t&&t.ignoreEdit||this.setModified(!0)},this.graph.getModel().addListener(mxEvent.CHANGE,mxUtils.bind(this,function(){this.graphChangeListener.apply(this,arguments)})),this.graph.resetViewOnRootChange=!1,this.init()}).pageCounter=0,function(){try{for(var e=window;null!=e.opener&&void 0!==e.opener.Editor&&!isNaN(e.opener.Editor.pageCounter)&&e.opener!=e;)e=e.opener;null!=e&&(e.Editor.pageCounter++,Editor.pageCounter=e.Editor.pageCounter)}catch(e){}}(),Editor.useLocalStorage="undefined"!=typeof Storage&&mxClient.IS_IOS,Editor.moveImage=mxClient.IS_SVG?"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjI4cHgiIGhlaWdodD0iMjhweCI+PGc+PC9nPjxnPjxnPjxnPjxwYXRoIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIuNCwyLjQpc2NhbGUoMC44KXJvdGF0ZSg0NSwxMiwxMikiIHN0cm9rZT0iIzI5YjZmMiIgZmlsbD0iIzI5YjZmMiIgZD0iTTE1LDNsMi4zLDIuM2wtMi44OSwyLjg3bDEuNDIsMS40MkwxOC43LDYuN0wyMSw5VjNIMTV6IE0zLDlsMi4zLTIuM2wyLjg3LDIuODlsMS40Mi0xLjQyTDYuNyw1LjNMOSwzSDNWOXogTTksMjEgbC0yLjMtMi4zbDIuODktMi44N2wtMS40Mi0xLjQyTDUuMywxNy4zTDMsMTV2Nkg5eiBNMjEsMTVsLTIuMywyLjNsLTIuODctMi44OWwtMS40MiwxLjQybDIuODksMi44N0wxNSwyMWg2VjE1eiIvPjwvZz48L2c+PC9nPjwvc3ZnPgo=":IMAGE_PATH+"/move.png",Editor.rowMoveImage=mxClient.IS_SVG?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAEBAMAAACw6DhOAAAAGFBMVEUzMzP///9tbW1QUFCKiopBQUF8fHxfX1/IXlmXAAAAFElEQVQImWNgNVdzYBAUFBRggLMAEzYBy29kEPgAAAAASUVORK5CYII=":IMAGE_PATH+"/thumb_horz.png",Editor.helpImage=mxClient.IS_SVG?"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDI0djI0SDB6Ii8+PHBhdGggZD0iTTExIDE4aDJ2LTJoLTJ2MnptMS0xNkM2LjQ4IDIgMiA2LjQ4IDIgMTJzNC40OCAxMCAxMCAxMCAxMC00LjQ4IDEwLTEwUzE3LjUyIDIgMTIgMnptMCAxOGMtNC40MSAwLTgtMy41OS04LThzMy41OS04IDgtOCA4IDMuNTkgOCA4LTMuNTkgOC04IDh6bTAtMTRjLTIuMjEgMC00IDEuNzktNCA0aDJjMC0xLjEuOS0yIDItMnMyIC45IDIgMmMwIDItMyAxLjc1LTMgNWgyYzAtMi4yNSAzLTIuNSAzLTUgMC0yLjIxLTEuNzktNC00LTR6Ii8+PC9zdmc+":IMAGE_PATH+"/help.png",Editor.checkmarkImage=mxClient.IS_SVG?"data:image/gif;base64,R0lGODlhFQAVAMQfAGxsbHx8fIqKioaGhvb29nJycvr6+sDAwJqamltbW5OTk+np6YGBgeTk5Ly8vJiYmP39/fLy8qWlpa6ursjIyOLi4vj4+N/f3+3t7fT09LCwsHZ2dubm5r6+vmZmZv///yH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS4wLWMwNjAgNjEuMTM0Nzc3LCAyMDEwLzAyLzEyLTE3OjMyOjAwICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IFdpbmRvd3MiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OEY4NTZERTQ5QUFBMTFFMUE5MTVDOTM5MUZGMTE3M0QiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OEY4NTZERTU5QUFBMTFFMUE5MTVDOTM5MUZGMTE3M0QiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4Rjg1NkRFMjlBQUExMUUxQTkxNUM5MzkxRkYxMTczRCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4Rjg1NkRFMzlBQUExMUUxQTkxNUM5MzkxRkYxMTczRCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgH//v38+/r5+Pf29fTz8vHw7+7t7Ovq6ejn5uXk4+Lh4N/e3dzb2tnY19bV1NPS0dDPzs3My8rJyMfGxcTDwsHAv769vLu6ubi3trW0s7KxsK+urayrqqmop6alpKOioaCfnp2cm5qZmJeWlZSTkpGQj46NjIuKiYiHhoWEg4KBgH9+fXx7enl4d3Z1dHNycXBvbm1sa2ppaGdmZWRjYmFgX15dXFtaWVhXVlVUU1JRUE9OTUxLSklIR0ZFRENCQUA/Pj08Ozo5ODc2NTQzMjEwLy4tLCsqKSgnJiUkIyIhIB8eHRwbGhkYFxYVFBMSERAPDg0MCwoJCAcGBQQDAgEAACH5BAEAAB8ALAAAAAAVABUAAAVI4CeOZGmeaKqubKtylktSgCOLRyLd3+QJEJnh4VHcMoOfYQXQLBcBD4PA6ngGlIInEHEhPOANRkaIFhq8SuHCE1Hb8Lh8LgsBADs=":IMAGE_PATH+"/checkmark.gif",Editor.maximizeImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVBAMAAABbObilAAAAElBMVEUAAAAAAAAAAAAAAAAAAAAAAADgKxmiAAAABXRSTlMA758vX1Pw3BoAAABJSURBVAjXY8AJQkODGBhUQ0MhbAUGBiYY24CBgRnGFmZgMISwgwwDGRhEhVVBbAVmEQYGRwMmBjIAQi/CTIRd6G5AuA3dzYQBAHj0EFdHkvV4AAAAAElFTkSuQmCC",Editor.zoomOutImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVBAMAAABbObilAAAAElBMVEUAAAAAAAAsLCxxcXEhISFgYGChjTUxAAAAAXRSTlMAQObYZgAAAEdJREFUCNdjIAMwCQrB2YKCggJQJqMwA7MglK1owMBgqABVApITgLJZXFxgbIQ4Qj3CHIT5ggoIe5kgNkM1KSDYKBKqxPkDAPo5BAZBE54hAAAAAElFTkSuQmCC",Editor.zoomInImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVBAMAAABbObilAAAAElBMVEUAAAAAAAAsLCwhISFxcXFgYGBavKaoAAAAAXRSTlMAQObYZgAAAElJREFUCNdjIAMwCQrB2YKCggJQJqMIA4sglK3owMzgqABVwsDMwCgAZTMbG8PYCHGEeoQ5CPMFFRD2MkFshmpSQLBRJFSJ8wcAEqcEM2uhl2MAAAAASUVORK5CYII=",Editor.zoomFitImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVBAMAAABbObilAAAAD1BMVEUAAAAAAAAwMDBwcHBgYGC1xl09AAAAAXRSTlMAQObYZgAAAEFJREFUCNdjIAMwCQrB2YKCggJQJqMwA7MglK1owMBgqABVApITwMdGqEeYgzBfUAFhLxPEZqgmBQQbRUKFOH8AAK5OA3lA+FFOAAAAAElFTkSuQmCC",Editor.layersImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAMAAACeyVWkAAAAaVBMVEUAAAAgICAICAgdHR0PDw8WFhYICAgLCwsXFxcvLy8ODg4uLi4iIiIqKiokJCQYGBgKCgonJycFBQUCAgIqKiocHBwcHBwODg4eHh4cHBwnJycJCQkUFBQqKiojIyMuLi4ZGRkgICAEBATOWYXAAAAAGnRSTlMAD7+fnz8/H7/ff18/77+vr5+fn39/b28fH2xSoKsAAACQSURBVBjTrYxJEsMgDARZZMAY73sgCcn/HxnhKtnk7j6oRq0psfuoyndZ/SuODkHPLzfVT6KeyPePnJ7KrnkRjWMXTn4SMnN8mXe2SSM3ts8L/ZUxxrbAULSYJJULE0Iw9pjpenoICcgcX61mGgTgtCv9Be99pzCoDhNQWQnchD1mup5++CYGcoQexajZbfwAj/0MD8ZOaUgAAAAASUVORK5CYII=",Editor.previousImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABmJLR0QA/wD/AP+gvaeTAAAAh0lEQVQ4je3UsQnCUBCA4U8hpa1NsoEjpHQJS0dxADdwEMuMIJkgA1hYChbGQgMi+JC8q4L/AB/vDu7x74cWWEZhJU44RmA1zujR5GIbXF9YNrjD/Q0bDRY4fEBZ4P4LlgTnCbAf84pUM8/9hY08tMUtEoQ1LpEgrNBFglChFXR6Q6GfwwR6AGKJMF74Vtt3AAAAAElFTkSuQmCC",Editor.nextImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABmJLR0QA/wD/AP+gvaeTAAAAi0lEQVQ4jeXUIQ7CUAwA0MeGxWI2yylwnALJUdBcgYvM7QYLmjOQIAkIPmJZghiIvypoUtX0tfnJL38X5ZfaEgUeUcManFBHgS0SLlhHggk3bCPBhCf2keCQR8wjwYTDp6YiZxJmOU1jGw7vGALescuBxsArNlOwd/CM1VSM/ut1qCIw+uOwiMJ+OF4CQzBCXm3hyAAAAABJRU5ErkJggg==",Editor.editImage=mxClient.IS_SVG?"data:image/gif;base64,R0lGODlhCwALAIABAFdXV////yH5BAEAAAEALAAAAAALAAsAAAIZjB8AiKuc4jvLOGqzrjX6zmkWyChXaUJBAQA7":IMAGE_PATH+"/edit.gif",Editor.zoomOutLargeImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAilBMVEUAAAD////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////2N2iNAAAALXRSTlMA+vTcKMM96GRBHwXxi0YaX1HLrKWhiHpWEOnOr52Vb2xKSDcT19PKv5l/Ngdk8+viAAABJklEQVQ4y4WT2XaDMAxEvWD2nSSUNEnTJN3r//+9Sj7ILAY6L0ijC4ONYVZRpo6cByrz2YKSUGorGTpz71lPVHvT+avoB5wIkU/mxk8veceSuNoLg44IzziXjvpih72wKQnm8yc2UoiP/LAd8jQfe2Xf4Pq+2EyYIvv9wbzHHCgwxDdlBtWZOdqDfTCVgqpygQpsZaojVAVc9UjQxnAJDIBhiQv84tq3gMQCAVTxVoSibXJf8tMuc7e1TB/DCmejBNg/w1Y3c+AM5vv4w7xM59/oXamrHaLVqPQ+OTCnmMZxgz0SdL5zji0/ld6j88qGa5KIiBB6WeJGKfUKwSMKLuXgvl1TW0tm5R9UQL/efSDYsnzxD8CinhBsTTdugJatKpJwf8v+ADb8QmvW7AeAAAAAAElFTkSuQmCC",Editor.zoomInLargeImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAilBMVEUAAAD////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////2N2iNAAAALXRSTlMA+vTcKMM96GRBHwXxi0YaX1HLrKWhiHpWEOnOr52Vb2xKSDcT19PKv5l/Ngdk8+viAAABKElEQVQ4y4WT6WKCMBCENwkBwn2oFKvWqr3L+79es4EkQIDOH2d3Pxk2ABiJlB8JCXjqw4LikHVGLHTm3nM3UeVN5690GBBN0GwyV/3kkrUQR+WeKnREeKpzaXWd77CmJiXGfPIEI4V4yQ9TIW/ntlcMBe731Vts9w5TWG8F5j3mQI4hvrKpdGeYA7CX9qAcl650gVJartxRuhyHVghF8idQAIbFLvCLu28BsQEC6aKtCK6Pyb3JT7PmbmtNH8Ny56CotD/2qOs5cJbuffxgXmCib+xddVU5RNOhkvvkhTlFehzVWCOh3++MYElOhfdovaImnRYVmqDdsuhNp1QrBBE6uGC2+3ZNjGdg5B94oD+9uyVgWT79BwAxEBTWdOu3bWBVgsn/N/AHUD9IC01Oe40AAAAASUVORK5CYII=",Editor.actualSizeLargeImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAilBMVEUAAAD////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////2N2iNAAAALXRSTlMA+vTcKMM96GRBHwXxi0YaX1HLrKWhiHpWEOnOr52Vb2xKSDcT19PKv5l/Ngdk8+viAAABIUlEQVQ4y4WT2XqDIBCFBxDc9yTWNEnTJN3r+79eGT4BEbXnaubMr8dBBaM450dCQp4LWFAascGIRd48eB4cNYE7f6XjgGiCFs5c+dml6CFN6j1V6IQIlHPpdV/usKcmJcV88gQTRXjLD9Mhb+fWq8YG9/uCmTCFjeeDeY85UGKIUGUuqzN42kv7oCouq9oHamlzVR1lVfpAIu1QVRiW+sAv7r4FpAYIZZVsRXB9TP5Dfpo1d1trCgzz1iiptH/sUbdz4CzN9+mLeXHn3+hdddd4RDegsrvzwZwSs2GLPRJidAqCLTlVwaMPqpYMWjTWBB2WRW86pVkhSKyDK2bdt2tmagZG4sBD/evdLQHLEvQfAOKRoLCmG1FAB6uKmby+gz+REDn7O5+EwQAAAABJRU5ErkJggg==",Editor.printLargeImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAXVBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////9RKvvlAAAAHnRSTlMAydnl77qbMLT093H7K4Nd4Ktn082+lYt5bkklEgP44nQSAAAApUlEQVQ4y73P2Q6DIBRF0cOgbRHHzhP//5m9mBAQKjG1cT0Yc7ITAMu1LNQgUZiQ2DYoNQ0sCQb6qgHAfRx48opq3J9AZ6xuF7uOew8Ik1OsCZRS2UAC9V+D9a+QZYxNA45YFQftPtSkATOhw7dAc0vPBwKWiIOjP0JZ0yMuQJ27g36DipOUsqRAM0dR8KD1/ILHaHSE/w8DIx09E3g/BTce6rHUB5sAPKvfF+JdAAAAAElFTkSuQmCC",Editor.layersLargeImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAmVBMVEUAAAD////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+/v7///+bnZkkAAAAMnRSTlMABPr8ByiD88KsTi/rvJb272mjeUA1CuPe1M/KjVxYHxMP6KZ0S9nYzGRGGRaznpGIbzaGUf0AAAHESURBVDjLbZLZYoIwEEVDgLCjbKIgAlqXqt3m/z+uNwu1rcyDhjl3ktnYL7OY254C0VX3yWFZfzDrOClbbgKxi0YDHjwl4jbnRkXxJS/C1YP3DbBhD1n7Ex4uaAqdVDb3yJ/4J/3nJD2to/ngQz/DfUvzMp4JJ5sSCaF5oXmemgQDfDxzbi+Kq4sU+vNcuAmx94JtyOP2DD4Epz2asWSCz4Z/4fECxyNj9zC9xNLHcdPEO+awDKeSaUu0W4twZQiO2hYVisTR3RCtK/c1X6t4xMEpiGqXqVntEBLolkZZsKY4QtwH6jzq67dEHlJysB1aNOD3XT7n1UkasQN59L4yC2RELMDSeCRtz3yV22Ub3ozIUTknYx8JWqDdQxbUes98cR2kZtUSveF/bAhcedwEWmlxIkpZUy4XOCb6VBjjxHvbwo/1lBAHHi2JCr0NI570QhyHq/DhJoE2lLgyA4RVe6KmZ47O/3b86MCP0HWa73A8/C3SUc5Qc1ajt6fgpXJ+RGpMvDSchepZDOOQRcZVIKcK90x2D7etqtI+56+u6n3sPriO6nfphitR4+O2m3EbM7lh3me1FM1o+LMI887rN+s3/wZdTFlpNVJiOAAAAABJRU5ErkJggg==",Editor.closeLargeImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAUVBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////8IN+deAAAAGnRSTlMAuvAIg/dDM/QlOeuFhj0S5s4vKgzjxJRQNiLSey0AAADNSURBVDjLfZLbEoMgDEQjRRRs1XqX///QNmOHJSnjPkHOGR7IEmeoGtJZstnwjqbRfIsmgEdtPCqe9Ynz7ZSc07rE2QiSc+qv8TvjRXA2PDUm3dpe82iJhOEUfxJJo3aCv+jKmRmH4lcCjCjeh9GWOdL/GZZkXH3PYYDrHBnfc4D/RVZf5sjoC1was+Y6HQxwaUxFvq/a0Pv343VCTxfBSRiB+ab3M3eiQZXmMNBJ3Y8pGRZtYQ7DgHMXJEdPLTaN/qBjzJOBc3nmNcbsA16bMR0oLqf+AAAAAElFTkSuQmCC",Editor.editLargeImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAgVBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////9d3yJTAAAAKnRSTlMA+hzi3nRQWyXzkm0h2j3u54gzEgSXjlYoTBgJxL2loGpAOS3Jt7Wxm35Ga7gRAAAA6UlEQVQ4y63Q2XaCMBSF4Q0JBasoQ5DJqbXjfv8HbCK2BZNwo/8FXHx7rcMC7lQu0iX8qU/qtvAWCpoqH8dYzS0SwaV5eK/UAf8X9pd2CWKzuF5Jrftp1owXwnIGLUaL3PYndOHf4kNNXWrXK/m7CHunk7K8LE6YtBpcknwG9GKxnroY+ylBXcx4xKyx/u/EuXi509cP9V7OO1oyHnzrdFTcqLG/4ibBA5pIMr/4xvKzuQDkVy9wW8SgBFD6HDvuzMvrZcC9QlkfMzI7w64m+b4PqBMNHB05lH21PVxJo2/fBXxV4hB38PcD+5AkI4FuETsAAAAASUVORK5CYII=",Editor.previousLargeImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAPFBMVEUAAAD////////////////////////////////////////////////////////////////////////////YSWgTAAAAE3RSTlMA7fci493c0MW8uJ6CZks4MxQHEZL6ewAAAFZJREFUOMvdkskRgDAMA4lDwg2B7b9XOlge/KKvdsa25KFb5XlRvxXC/DNBEv8IFNjBgGdDgXtFgTyhwDXiQAUHCvwa4Uv6mR6UR+1led2mVonvl+tML45qCQNQLIx7AAAAAElFTkSuQmCC",Editor.nextLargeImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAPFBMVEUAAAD////////////////////////////////////////////////////////////////////////////YSWgTAAAAE3RSTlMA7fci493c0MW8uJ6CZks4MxQHEZL6ewAAAFRJREFUOMvd0skRgCAQBVEFwQ0V7fxzNQP6wI05v6pZ/kyj1b7FNgik2gQzzLcAwiUAigHOTwDHK4A1CmB5BJANJG1hQ9qafYcqFlZP3IFc9eVGrR+iIgkDQRUXIAAAAABJRU5ErkJggg==",Editor.refreshLargeImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAolBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8ELnaCAAAANXRSTlMABfyE2QKU+dfNyyDyoVYKwnTv7N+6rntsYlFNQjEqEw316uSzf2c1JB3GvqebiVw6GAjQB4DQr10AAAE7SURBVDjLvZLXcoMwEABPIgRCx3TT3A3udqL//7UgAdGRcR4yk8k+idsdmgS/QyWEqD/axS2JDV33zlnzLHIzQ2MDq9OeJ3m8l76KKENYlxrmM/b65Ys1+8YxnTEZFIEY0vVhszFWfUGZDJpQTDznTgAe5k4XhQxILB7ruzBQn+kkyDXuHfRtjoYDEvH7J9Lz98dBZXXL94X0Ofco2PFlChKbjVzEdakoSlKjoNoqPYkJ/wUZAYwc+PpLj1Ei7+jdoBWlwQZoJv2H1w3CWgRvo7dd9DP5btgwCWz0M02+oVoxCcIWeY9PNmR6B++m9prMxYEISpCBYBlfy9bc745is7UUULAem1Ww7FfalsiA2uaJsgmWP3pQI9q9/yMLkaaHAp2fxhHff/cNq7dBdHXhGW7l+Mo2zU0Cf8knJ2xA0oJ8enwAAAAASUVORK5CYII=",Editor.backLargeImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAclBMVEUAAAD////////////////+/v7////////////////////////////////////////////+/v7///////////////////////////////////////////////////////////////////////////////8vKLfTAAAAJXRSTlMACh7h9gby3NLIwzwZ55uVJgH57b+8tbCljYV1RRMQ46FrTzQw+vtxOQAAAJ5JREFUOMuF00cWgzAQA1DRDQFCbwFSdf8rZpdVrNH2z3tuMv7mldZQ2WN2yi8x+TT8JvyTkqvwpiKvwsOIrA1fWr+XGTklfj8dOQR+D3KyUF6QufBkJN0hfCazEv6sZBRCJDUcPasGKpu1RLtYE8lkHAPBQLoTsK/SfAyRw5FjAuhCzC2MSj0gJ+66lHatgXdKboD9tfREB5m9/+3iC9jHDYvsGNcUAAAAAElFTkSuQmCC",Editor.fullscreenLargeImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAllBMVEUAAAD////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////AJcWoAAAAMXRSTlMA+wIFxPWPCIb446tnUxmsoIykgxTe29jQnpKBe2MNsZhVTR/KyLuWbFhEPjUq7L9z+bQj+gAAAWxJREFUOMttk4l2gkAMRTODCO4FtQgIbnWpS9v8/881iZFh8R51NO8GJ+gAjMN8zuTRFSw04cIOHQcqFHH6oaQFGxf0jeBjEgB8Y52TpW9Ag4zB5QICWOtHrgwGuFZBcw+gPP0MFS7+iiD5inOmDIQS9sZgTwUzwEzyxhxHVEEU7NdDUXsqUPtqjIgR2IZSCT4upzSeIeOdcMHnfDsx3giPoezfU6MrQGB5//SckLEG2xYscK4GfnUFqaix39zrwooaOD/cXoYuvHKQIc7pzd3HVPusp6t2FAW/RmjMonbl8vwHDeZo/GkleJC7e+p5XA/rAq1X/V10wKag04rBpa2/d0LL4OYYceOEtsG5jyMntI1wS+N1BGcQBl/CoLoPOl9ABrW/BP53e1bwSJHHlkIVchJwmHwyyfJ4kIvEnKtwkxNSEct83KSChT7WiWgDZ3ccZ0BM4tloJow2YUAtifNT3njnyD+y/pMsnP4DN3Y4yl1Gyk0AAAAASUVORK5CYII=",Editor.roughFillStyles=[{val:"auto",dispName:"Auto"},{val:"hachure",dispName:"Hachure"},{val:"solid",dispName:"Solid"},{val:"zigzag",dispName:"ZigZag"},{val:"cross-hatch",dispName:"Cross Hatch"},{val:"dots",dispName:"Dots"},{val:"dashed",dispName:"Dashed"},{val:"zigzag-line",dispName:"ZigZag Line"}],Editor.themes=null,Editor.ctrlKey=mxClient.IS_MAC?"Cmd":"Ctrl",Editor.hintOffset=20,Editor.popupsAllowed=!0,mxUtils.extend(Editor,mxEventSource),Editor.prototype.originalNoForeignObject=mxClient.NO_FO,Editor.prototype.transparentImage=mxClient.IS_SVG?"data:image/gif;base64,R0lGODlhMAAwAIAAAP///wAAACH5BAEAAAAALAAAAAAwADAAAAIxhI+py+0Po5y02ouz3rz7D4biSJbmiabqyrbuC8fyTNf2jef6zvf+DwwKh8Si8egpAAA7":IMAGE_PATH+"/transparent.gif",Editor.prototype.extendCanvas=!0,Editor.prototype.chromeless=!1,Editor.prototype.cancelFirst=!0,Editor.prototype.enabled=!0,Editor.prototype.filename=null,Editor.prototype.modified=!1,Editor.prototype.autosave=!0,Editor.prototype.initialTopSpacing=0,Editor.prototype.appName=document.title,Editor.prototype.editBlankUrl=window.location.protocol+"//"+window.location.host+"/",Editor.prototype.defaultGraphOverflow="hidden",Editor.prototype.init=function(){},Editor.prototype.isChromelessView=function(){return this.chromeless},Editor.prototype.setAutosave=function(e){this.autosave=e,this.fireEvent(new mxEventObject("autosaveChanged"))},Editor.prototype.getEditBlankUrl=function(e){return this.editBlankUrl+e},Editor.prototype.editAsNew=function(t,e){var i,n,e=null!=e?"?title="+encodeURIComponent(e):"";null!=urlParams.ui&&(e+=(0<e.length?"&":"?")+"ui="+urlParams.ui),void 0!==window.postMessage&&(null==document.documentMode||10<=document.documentMode)?(i=null,n=mxUtils.bind(this,function(e){"ready"==e.data&&e.source==i&&(mxEvent.removeListener(window,"message",n),i.postMessage(t,"*"))}),mxEvent.addListener(window,"message",n),i=this.graph.openLink(this.getEditBlankUrl(e+(0<e.length?"&":"?")+"client=1"),null,!0)):this.graph.openLink(this.getEditBlankUrl(e)+"#R"+encodeURIComponent(t))},Editor.prototype.createGraph=function(e,t){t=new Graph(null,t,null,null,e);return t.transparentBackground=!1,this.chromeless||(t.isBlankLink=function(e){return!this.isExternalProtocol(e)}),t},Editor.prototype.resetGraph=function(){this.graph.gridEnabled=!this.isChromelessView()||"1"==urlParams.grid,this.graph.graphHandler.guidesEnabled=!0,this.graph.setTooltips(!0),this.graph.setConnectable(!0),this.graph.foldingEnabled=!0,this.graph.scrollbars=this.graph.defaultScrollbars,this.graph.pageVisible=this.graph.defaultPageVisible,this.graph.pageBreaksVisible=this.graph.pageVisible,this.graph.preferPageSize=this.graph.pageBreaksVisible,this.graph.background=null,this.graph.pageScale=mxGraph.prototype.pageScale,this.graph.pageFormat=mxGraph.prototype.pageFormat,this.graph.currentScale=1,this.graph.currentTranslate.x=0,this.graph.currentTranslate.y=0,this.updateGraphComponents(),this.graph.view.setScale(1)},Editor.prototype.readGraphState=function(e){this.graph.gridEnabled="0"!=e.getAttribute("grid")&&(!this.isChromelessView()||"1"==urlParams.grid),this.graph.gridSize=parseFloat(e.getAttribute("gridSize"))||mxGraph.prototype.gridSize,this.graph.graphHandler.guidesEnabled="0"!=e.getAttribute("guides"),this.graph.setTooltips("0"!=e.getAttribute("tooltips")),this.graph.setConnectable("0"!=e.getAttribute("connect")),this.graph.connectionArrowsEnabled="0"!=e.getAttribute("arrows"),this.graph.foldingEnabled="0"!=e.getAttribute("fold"),this.isChromelessView()&&this.graph.foldingEnabled&&(this.graph.foldingEnabled="1"==urlParams.nav,this.graph.cellRenderer.forceControlClickHandler=this.graph.foldingEnabled);var t=parseFloat(e.getAttribute("pageScale")),t=(!isNaN(t)&&0<t?this.graph.pageScale=t:this.graph.pageScale=mxGraph.prototype.pageScale,this.graph.isLightboxView()||this.graph.isViewer()?this.graph.pageVisible=!1:(t=e.getAttribute("page"),this.graph.pageVisible=null!=t?"0"!=t:this.graph.defaultPageVisible),this.graph.pageBreaksVisible=this.graph.pageVisible,this.graph.preferPageSize=this.graph.pageBreaksVisible,parseFloat(e.getAttribute("pageWidth"))),i=parseFloat(e.getAttribute("pageHeight")),t=(isNaN(t)||isNaN(i)||(this.graph.pageFormat=new mxRectangle(0,0,t,i)),e.getAttribute("background"));null!=t&&0<t.length?this.graph.background=t:this.graph.background=null},Editor.prototype.setGraphXml=function(e){if(null!=e){var t=new mxCodec(e.ownerDocument);if("mxGraphModel"==e.nodeName){this.graph.model.beginUpdate();try{this.graph.model.clear(),this.graph.view.scale=1,this.readGraphState(e),this.updateGraphComponents(),t.decode(e,this.graph.getModel())}finally{this.graph.model.endUpdate()}this.fireEvent(new mxEventObject("resetGraphView"))}else{if("root"!=e.nodeName)throw{message:mxResources.get("cannotOpenFile"),node:e,toString:function(){return this.message}};this.resetGraph();var i=t.document.createElement("mxGraphModel");i.appendChild(e),t.decode(i,this.graph.getModel()),this.updateGraphComponents(),this.fireEvent(new mxEventObject("resetGraphView"))}}else this.resetGraph(),this.graph.model.clear(),this.fireEvent(new mxEventObject("resetGraphView"))},Editor.prototype.getGraphXml=function(e){var t=null;return t=(e=null==e||e)?new mxCodec(mxUtils.createXmlDocument()).encode(this.graph.getModel()):this.graph.encodeCells(mxUtils.sortCells(this.graph.model.getTopmostCells(this.graph.getSelectionCells()))),0==this.graph.view.translate.x&&0==this.graph.view.translate.y||(t.setAttribute("dx",Math.round(100*this.graph.view.translate.x)/100),t.setAttribute("dy",Math.round(100*this.graph.view.translate.y)/100)),t.setAttribute("grid",this.graph.isGridEnabled()?"1":"0"),t.setAttribute("gridSize",this.graph.gridSize),t.setAttribute("guides",this.graph.graphHandler.guidesEnabled?"1":"0"),t.setAttribute("tooltips",this.graph.tooltipHandler.isEnabled()?"1":"0"),t.setAttribute("connect",this.graph.connectionHandler.isEnabled()?"1":"0"),t.setAttribute("arrows",this.graph.connectionArrowsEnabled?"1":"0"),t.setAttribute("fold",this.graph.foldingEnabled?"1":"0"),t.setAttribute("page",this.graph.pageVisible?"1":"0"),t.setAttribute("pageScale",this.graph.pageScale),t.setAttribute("pageWidth",this.graph.pageFormat.width),t.setAttribute("pageHeight",this.graph.pageFormat.height),null!=this.graph.background&&t.setAttribute("background",this.graph.background),t},Editor.prototype.updateGraphComponents=function(){var e=this.graph;null!=e.container&&(e.view.validateBackground(),e.container.style.overflow=e.scrollbars?"auto":this.defaultGraphOverflow,this.fireEvent(new mxEventObject("updateGraphComponents")))},Editor.prototype.setModified=function(e){this.modified=e},Editor.prototype.setFilename=function(e){this.filename=e},Editor.prototype.createUndoManager=function(){function e(e,t){var i=l.getSelectionCellsForChanges(t.getProperty("edit").changes,function(e){return!(e instanceof mxChildChange)});if(0<i.length){l.getModel();for(var n=[],a=0;a<i.length;a++)null!=l.view.getState(i[a])&&n.push(i[a]);l.setSelectionCells(n)}}var l=this.graph,i=new mxUndoManager,t=(this.undoListener=function(e,t){i.undoableEditHappened(t.getProperty("edit"))},mxUtils.bind(this,function(e,t){this.undoListener.apply(this,arguments)}));l.getModel().addListener(mxEvent.UNDO,t),l.getView().addListener(mxEvent.UNDO,t);return i.addListener(mxEvent.UNDO,e),i.addListener(mxEvent.REDO,e),i},Editor.prototype.initStencilRegistry=function(){},Editor.prototype.destroy=function(){null!=this.graph&&(this.graph.destroy(),this.graph=null)},(OpenFile=function(e){this.producer=null,this.consumer=null,this.done=e,this.args=null}).prototype.setConsumer=function(e){this.consumer=e,this.execute()},OpenFile.prototype.setData=function(){this.args=arguments,this.execute()},OpenFile.prototype.error=function(e){this.cancel(!0),mxUtils.alert(e)},OpenFile.prototype.execute=function(){null!=this.consumer&&null!=this.args&&(this.cancel(!1),this.consumer.apply(this,this.args))},OpenFile.prototype.cancel=function(e){null!=this.done&&this.done(null==e||e)},Dialog.backdropColor="white",Dialog.prototype.zIndex=mxPopupMenu.prototype.zIndex-1,Dialog.prototype.noColorImage=mxClient.IS_SVG?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkEzRDlBMUUwODYxMTExRTFCMzA4RDdDMjJBMEMxRDM3IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkEzRDlBMUUxODYxMTExRTFCMzA4RDdDMjJBMEMxRDM3Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QTNEOUExREU4NjExMTFFMUIzMDhEN0MyMkEwQzFEMzciIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QTNEOUExREY4NjExMTFFMUIzMDhEN0MyMkEwQzFEMzciLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5xh3fmAAAABlBMVEX////MzMw46qqDAAAAGElEQVR42mJggAJGKGAYIIGBth8KAAIMAEUQAIElnLuQAAAAAElFTkSuQmCC":IMAGE_PATH+"/nocolor.png",Dialog.prototype.closeImage=mxClient.IS_SVG?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJAQMAAADaX5RTAAAABlBMVEV7mr3///+wksspAAAAAnRSTlP/AOW3MEoAAAAdSURBVAgdY9jXwCDDwNDRwHCwgeExmASygSL7GgB12QiqNHZZIwAAAABJRU5ErkJggg==":IMAGE_PATH+"/close.png",Dialog.prototype.clearImage=mxClient.IS_SVG?"data:image/gif;base64,R0lGODlhDQAKAIABAMDAwP///yH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS4wLWMwNjAgNjEuMTM0Nzc3LCAyMDEwLzAyLzEyLTE3OjMyOjAwICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IFdpbmRvd3MiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OUIzOEM1NzI4NjEyMTFFMUEzMkNDMUE3NjZERDE2QjIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OUIzOEM1NzM4NjEyMTFFMUEzMkNDMUE3NjZERDE2QjIiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5QjM4QzU3MDg2MTIxMUUxQTMyQ0MxQTc2NkREMTZCMiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5QjM4QzU3MTg2MTIxMUUxQTMyQ0MxQTc2NkREMTZCMiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgH//v38+/r5+Pf29fTz8vHw7+7t7Ovq6ejn5uXk4+Lh4N/e3dzb2tnY19bV1NPS0dDPzs3My8rJyMfGxcTDwsHAv769vLu6ubi3trW0s7KxsK+urayrqqmop6alpKOioaCfnp2cm5qZmJeWlZSTkpGQj46NjIuKiYiHhoWEg4KBgH9+fXx7enl4d3Z1dHNycXBvbm1sa2ppaGdmZWRjYmFgX15dXFtaWVhXVlVUU1JRUE9OTUxLSklIR0ZFRENCQUA/Pj08Ozo5ODc2NTQzMjEwLy4tLCsqKSgnJiUkIyIhIB8eHRwbGhkYFxYVFBMSERAPDg0MCwoJCAcGBQQDAgEAACH5BAEAAAEALAAAAAANAAoAAAIXTGCJebD9jEOTqRlttXdrB32PJ2ncyRQAOw==":IMAGE_PATH+"/clear.gif",Dialog.prototype.lockedImage=mxClient.IS_SVG?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAMAAABhq6zVAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MzdDMDZCODExNzIxMTFFNUI0RTk5NTg4OTcyMUUyODEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MzdDMDZCODIxNzIxMTFFNUI0RTk5NTg4OTcyMUUyODEiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDozN0MwNkI3RjE3MjExMUU1QjRFOTk1ODg5NzIxRTI4MSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDozN0MwNkI4MDE3MjExMUU1QjRFOTk1ODg5NzIxRTI4MSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PvqMCFYAAAAVUExURZmZmb+/v7KysqysrMzMzLGxsf///4g8N1cAAAAHdFJOU////////wAaSwNGAAAAPElEQVR42lTMQQ4AIQgEwUa0//9kTQirOweYOgDqAMbZUr10AGlAwx4/BJ2QJ4U0L5brYjovvpv32xZgAHZaATFtMbu4AAAAAElFTkSuQmCC":IMAGE_PATH+"/locked.png",Dialog.prototype.unlockedImage=mxClient.IS_SVG?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAMAAABhq6zVAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MzdDMDZCN0QxNzIxMTFFNUI0RTk5NTg4OTcyMUUyODEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MzdDMDZCN0UxNzIxMTFFNUI0RTk5NTg4OTcyMUUyODEiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDozN0MwNkI3QjE3MjExMUU1QjRFOTk1ODg5NzIxRTI4MSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDozN0MwNkI3QzE3MjExMUU1QjRFOTk1ODg5NzIxRTI4MSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PkKMpVwAAAAYUExURZmZmbKysr+/v6ysrOXl5czMzLGxsf///zHN5lwAAAAIdFJOU/////////8A3oO9WQAAADxJREFUeNpUzFESACAEBNBVsfe/cZJU+8Mzs8CIABCidtfGOndnYsT40HDSiCcbPdoJo10o9aI677cpwACRoAF3dFNlswAAAABJRU5ErkJggg==":IMAGE_PATH+"/unlocked.png",Dialog.prototype.bgOpacity=80,Dialog.prototype.getPosition=function(e,t){return new mxPoint(e,t)},Dialog.prototype.close=function(e,t){if(null!=this.onDialogClose){if(0==this.onDialogClose(e,t))return!1;this.onDialogClose=null}null!=this.dialogImg&&(this.dialogImg.parentNode.removeChild(this.dialogImg),this.dialogImg=null),null!=this.bg&&null!=this.bg.parentNode&&this.bg.parentNode.removeChild(this.bg),mxEvent.removeListener(window,"resize",this.resizeListener),this.container.parentNode.removeChild(this.container)};var ErrorDialog=function(e,t,i,n,a,l,r,o,s,A,g){s=null==s||s;var d=document.createElement("div"),t=(d.style.textAlign="center",null!=t&&((h=document.createElement("div")).style.padding="0px",h.style.margin="0px",h.style.fontSize="18px",h.style.paddingBottom="16px",h.style.marginBottom="10px",h.style.borderBottom="1px solid #c0c0c0",h.style.color="gray",h.style.whiteSpace="nowrap",h.style.textOverflow="ellipsis",h.style.overflow="hidden",mxUtils.write(h,t),h.setAttribute("title",t),d.appendChild(h)),document.createElement("div")),h=(t.style.lineHeight="1.2em",t.style.padding="6px",t.innerHTML=i,d.appendChild(t),document.createElement("div")),c=(h.style.marginTop="12px",h.style.textAlign="center",null!=l&&((i=mxUtils.button(mxResources.get("tryAgain"),function(){e.hideDialog(),l()})).className="geBtn",h.appendChild(i),h.style.textAlign="center"),null!=A&&((t=mxUtils.button(A,function(){null!=g&&g()})).className="geBtn",h.appendChild(t)),mxUtils.button(n,function(){s&&e.hideDialog(),null!=a&&a()}));c.className="geBtn",h.appendChild(c),null!=r&&((i=mxUtils.button(r,function(){s&&e.hideDialog(),null!=o&&o()})).className="geBtn gePrimaryBtn",h.appendChild(i)),this.init=function(){c.focus()},d.appendChild(h),this.container=d},PrintDialog=function(e,t){this.create(e,t)},PageSetupDialog=(PrintDialog.prototype.create=function(e){var t,o=e.editor.graph,i=document.createElement("table"),n=(i.style.width="100%",i.style.height="100%",document.createElement("tbody")),a=document.createElement("tr"),s=document.createElement("input"),l=(s.setAttribute("type","checkbox"),(t=document.createElement("td")).setAttribute("colspan","2"),t.style.fontSize="10pt",t.appendChild(s),document.createElement("span")),A=(mxUtils.write(l," "+mxResources.get("fitPage")),t.appendChild(l),mxEvent.addListener(l,"click",function(e){s.checked=!s.checked,A.checked=!s.checked,mxEvent.consume(e)}),mxEvent.addListener(s,"change",function(){A.checked=!s.checked}),a.appendChild(t),n.appendChild(a),a=a.cloneNode(!1),document.createElement("input")),l=(A.setAttribute("type","checkbox"),(t=document.createElement("td")).style.fontSize="10pt",t.appendChild(A),document.createElement("span")),g=(mxUtils.write(l," "+mxResources.get("posterPrint")+":"),t.appendChild(l),mxEvent.addListener(l,"click",function(e){A.checked=!A.checked,s.checked=!A.checked,mxEvent.consume(e)}),a.appendChild(t),document.createElement("input")),d=(g.setAttribute("value","1"),g.setAttribute("type","number"),g.setAttribute("min","1"),g.setAttribute("size","4"),g.setAttribute("disabled","disabled"),g.style.width="50px",(t=document.createElement("td")).style.fontSize="10pt",t.appendChild(g),mxUtils.write(t," "+mxResources.get("pages")+" (max)"),a.appendChild(t),n.appendChild(a),mxEvent.addListener(A,"change",function(){A.checked?g.removeAttribute("disabled"):g.setAttribute("disabled","disabled"),s.checked=!A.checked}),a=a.cloneNode(!1),t=document.createElement("td"),mxUtils.write(t,mxResources.get("pageScale")+":"),a.appendChild(t),t=document.createElement("td"),document.createElement("input"));function r(e){var t=s.checked||A.checked,i=parseInt(d.value)/100,n=(isNaN(i)&&(i=1,d.value="100%"),i*=.75,o.pageFormat||mxConstants.PAGE_FORMAT_A4_PORTRAIT),a=1/o.pageScale,l=(t&&(l=s.checked?1:parseInt(g.value),isNaN(l)||(a=mxUtils.getScaleForPageCount(l,o,n))),o.getGraphBounds(),0),r=0,i=((n=mxRectangle.fromRectangle(n)).width=Math.ceil(n.width*i),n.height=Math.ceil(n.height*i),a*=i,!t&&o.pageVisible?(l-=(i=o.getPageLayout()).x*n.width,r-=i.y*n.height):t=!0,PrintDialog.createPrintPreview(o,a,n,0,l,r,t));i.open(),e&&PrintDialog.printPreview(i)}d.setAttribute("value","100 %"),d.setAttribute("size","5"),d.style.width="50px",t.appendChild(d),a.appendChild(t),n.appendChild(a),a=document.createElement("tr"),(t=document.createElement("td")).colSpan=2,t.style.paddingTop="20px",t.setAttribute("align","right");var l=mxUtils.button(mxResources.get("cancel"),function(){e.hideDialog()}),h=(l.className="geBtn",e.editor.cancelFirst&&t.appendChild(l),PrintDialog.previewEnabled&&((h=mxUtils.button(mxResources.get("preview"),function(){e.hideDialog(),r(!1)})).className="geBtn",t.appendChild(h)),mxUtils.button(mxResources.get(PrintDialog.previewEnabled?"print":"ok"),function(){e.hideDialog(),r(!0)}));h.className="geBtn gePrimaryBtn",t.appendChild(h),e.editor.cancelFirst||t.appendChild(l),a.appendChild(t),n.appendChild(a),i.appendChild(n),this.container=i},PrintDialog.printPreview=function(e){try{var t;null!=e.wnd&&(t=function(){e.wnd.focus(),e.wnd.print(),e.wnd.close()},mxClient.IS_GC?window.setTimeout(t,500):t())}catch(e){}},PrintDialog.createPrintPreview=function(e,t,i,n,a,l,r){var t=new mxPrintPreview(e,t,i,n,a,l),i=(t.title=mxResources.get("preview"),t.printBackgroundImage=!0,t.autoOrigin=r,e.background),o=(null!=i&&""!=i&&i!=mxConstants.NONE||(i="#ffffff"),t.backgroundColor=i,t.writeHead);return t.writeHead=function(e){o.apply(this,arguments),e.writeln('<style type="text/css">'),e.writeln("@media screen {"),e.writeln("  body > div { padding:30px;box-sizing:content-box; }"),e.writeln("}"),e.writeln("</style>")},t},PrintDialog.previewEnabled=!0,function(n){var a=n.editor.graph,e=document.createElement("table"),t=(e.style.width="100%",e.style.height="100%",document.createElement("tbody")),i=document.createElement("tr"),l=document.createElement("td"),r=(l.style.verticalAlign="top",l.style.fontSize="10pt",mxUtils.write(l,mxResources.get("paperSize")+":"),i.appendChild(l),(l=document.createElement("td")).style.verticalAlign="top",l.style.fontSize="10pt",PageSetupDialog.addPageFormatPanel(l,"pagesetupdialog",a.pageFormat));i.appendChild(l),t.appendChild(i),i=document.createElement("tr"),l=document.createElement("td"),mxUtils.write(l,mxResources.get("background")+":"),i.appendChild(l),(l=document.createElement("td")).style.whiteSpace="nowrap";document.createElement("input").setAttribute("type","text");var o=document.createElement("button"),s=(o.style.width="18px",o.style.height="18px",o.style.marginRight="20px",o.style.backgroundPosition="center center",o.style.backgroundRepeat="no-repeat",a.background);function A(){null==s||s==mxConstants.NONE?(o.style.backgroundColor="",o.style.backgroundImage="url('"+Dialog.prototype.noColorImage+"')"):(o.style.backgroundColor=s,o.style.backgroundImage="")}A(),mxEvent.addListener(o,"click",function(e){n.pickColor(s||"none",function(e){s=e,A()}),mxEvent.consume(e)}),l.appendChild(o),mxUtils.write(l,mxResources.get("gridSize")+":");var g=document.createElement("input"),d=(g.setAttribute("type","number"),g.setAttribute("min","0"),g.style.width="40px",g.style.marginLeft="6px",g.value=a.getGridSize(),l.appendChild(g),mxEvent.addListener(g,"change",function(){var e=parseInt(g.value);g.value=Math.max(1,isNaN(e)?a.getGridSize():e)}),i.appendChild(l),t.appendChild(i),i=document.createElement("tr"),l=document.createElement("td"),mxUtils.write(l,mxResources.get("image")+":"),i.appendChild(l),l=document.createElement("td"),document.createElement("a")),h=(d.style.textDecoration="underline",d.style.cursor="pointer",d.style.color="#a0a0a0",a.backgroundImage);function c(){null==h?(d.removeAttribute("title"),d.style.fontSize="",d.innerHTML=mxUtils.htmlEntities(mxResources.get("change"))+"..."):(d.setAttribute("title",h.src),d.style.fontSize="11px",d.innerHTML=mxUtils.htmlEntities(h.src.substring(0,42))+"...")}mxEvent.addListener(d,"click",function(e){n.showBackgroundImageDialog(function(e,t){t||(h=e,c())},h),mxEvent.consume(e)}),c(),l.appendChild(d),i.appendChild(l),t.appendChild(i),i=document.createElement("tr"),(l=document.createElement("td")).colSpan=2,l.style.paddingTop="16px",l.setAttribute("align","right");var p=mxUtils.button(mxResources.get("cancel"),function(){n.hideDialog()}),m=(p.className="geBtn",n.editor.cancelFirst&&l.appendChild(p),mxUtils.button(mxResources.get("apply"),function(){n.hideDialog();var e=parseInt(g.value),e=(isNaN(e)||a.gridSize===e||a.setGridSize(e),new ChangePageSetup(n,s,h,r.get())),t=(e.ignoreColor=a.background==s,null!=a.backgroundImage?a.backgroundImage.src:null),i=null!=h?h.src:null;e.ignoreImage=t===i,a.pageFormat.width==e.previousFormat.width&&a.pageFormat.height==e.previousFormat.height&&e.ignoreColor&&e.ignoreImage||a.model.execute(e)}));m.className="geBtn gePrimaryBtn",l.appendChild(m),n.editor.cancelFirst||l.appendChild(p),i.appendChild(l),t.appendChild(i),e.appendChild(t),this.container=e}),FilenameDialog=(PageSetupDialog.addPageFormatPanel=function(e,t,r,n){for(var t="format-"+t,o=document.createElement("input"),s=(o.setAttribute("name",t),o.setAttribute("type","radio"),o.setAttribute("value","portrait"),document.createElement("input")),A=(s.setAttribute("name",t),s.setAttribute("type","radio"),s.setAttribute("value","landscape"),document.createElement("select")),g=(A.style.marginBottom="8px",A.style.width="202px",document.createElement("div")),t=(g.style.marginLeft="4px",g.style.width="210px",g.style.height="24px",o.style.marginRight="6px",g.appendChild(o),document.createElement("span")),i=(t.style.maxWidth="100px",mxUtils.write(t,mxResources.get("portrait")),g.appendChild(t),s.style.marginLeft="10px",s.style.marginRight="6px",g.appendChild(s),document.createElement("span")),d=(i.style.width="100px",mxUtils.write(i,mxResources.get("landscape")),g.appendChild(i),document.createElement("div")),h=(d.style.marginLeft="4px",d.style.width="210px",d.style.height="24px",document.createElement("input")),c=(h.setAttribute("size","7"),h.style.textAlign="right",d.appendChild(h),mxUtils.write(d," in x "),document.createElement("input")),a=(c.setAttribute("size","7"),c.style.textAlign="right",d.appendChild(c),mxUtils.write(d," in"),g.style.display="none",d.style.display="none",new Object),p=PageSetupDialog.getFormats(),l=0;l<p.length;l++){var m=p[l],u=(a[m.key]=m,document.createElement("option"));u.setAttribute("value",m.key),mxUtils.write(u,m.title),A.appendChild(u)}var E=!1;function x(e,t,i){if(i||h!=document.activeElement&&c!=document.activeElement){for(var n=!1,a=0;a<p.length;a++){var l=p[a];E?"custom"==l.key&&(A.value=l.key,E=!1):null!=l.format&&("a4"==l.key?826==r.width?(r=mxRectangle.fromRectangle(r)).width=827:826==r.height&&((r=mxRectangle.fromRectangle(r)).height=827):"a5"==l.key&&(584==r.width?(r=mxRectangle.fromRectangle(r)).width=583:584==r.height&&((r=mxRectangle.fromRectangle(r)).height=583)),r.width==l.format.width&&r.height==l.format.height?(A.value=l.key,o.setAttribute("checked","checked"),o.defaultChecked=!0,o.checked=!0,s.removeAttribute("checked"),s.defaultChecked=!1,n=!(s.checked=!1)):r.width==l.format.height&&r.height==l.format.width&&(A.value=l.key,o.removeAttribute("checked"),o.defaultChecked=!1,o.checked=!1,s.setAttribute("checked","checked"),s.defaultChecked=!0,n=s.checked=!0))}n?(g.style.display="",d.style.display="none"):(h.value=r.width/100,c.value=r.height/100,o.setAttribute("checked","checked"),A.value="custom",g.style.display="none",d.style.display="")}}x(),e.appendChild(A),mxUtils.br(e),e.appendChild(g),e.appendChild(d);function b(e,t){null!=(i=a[A.value]).format?(h.value=i.format.width/100,c.value=i.format.height/100,d.style.display="none",g.style.display=""):(g.style.display="none",d.style.display="");var i=parseFloat(h.value),i=((isNaN(i)||i<=0)&&(h.value=r.width/100),parseFloat(c.value)),i=((isNaN(i)||i<=0)&&(c.value=r.height/100),new mxRectangle(0,0,Math.floor(100*parseFloat(h.value)),Math.floor(100*parseFloat(c.value))));"custom"!=A.value&&s.checked&&(i=new mxRectangle(0,0,i.height,i.width)),t&&E||i.width==M.width&&i.height==M.height||(M=i,null!=n&&n(M))}var M=r;return mxEvent.addListener(t,"click",function(e){o.checked=!0,b(),mxEvent.consume(e)}),mxEvent.addListener(i,"click",function(e){s.checked=!0,b(),mxEvent.consume(e)}),mxEvent.addListener(h,"blur",b),mxEvent.addListener(h,"click",b),mxEvent.addListener(c,"blur",b),mxEvent.addListener(c,"click",b),mxEvent.addListener(s,"change",b),mxEvent.addListener(o,"change",b),mxEvent.addListener(A,"change",function(e){E="custom"==A.value,b(0,!0)}),b(),{set:function(e){r=e,x(0,0,!0)},get:function(){return M},widthInput:h,heightInput:c}},PageSetupDialog.getFormats=function(){return[{key:"letter",title:'US-Letter (8,5" x 11")',format:mxConstants.PAGE_FORMAT_LETTER_PORTRAIT},{key:"legal",title:'US-Legal (8,5" x 14")',format:new mxRectangle(0,0,850,1400)},{key:"tabloid",title:'US-Tabloid (11" x 17")',format:new mxRectangle(0,0,1100,1700)},{key:"executive",title:'US-Executive (7" x 10")',format:new mxRectangle(0,0,700,1e3)},{key:"a0",title:"A0 (841 mm x 1189 mm)",format:new mxRectangle(0,0,3300,4681)},{key:"a1",title:"A1 (594 mm x 841 mm)",format:new mxRectangle(0,0,2339,3300)},{key:"a2",title:"A2 (420 mm x 594 mm)",format:new mxRectangle(0,0,1654,2336)},{key:"a3",title:"A3 (297 mm x 420 mm)",format:new mxRectangle(0,0,1169,1654)},{key:"a4",title:"A4 (210 mm x 297 mm)",format:mxConstants.PAGE_FORMAT_A4_PORTRAIT},{key:"a5",title:"A5 (148 mm x 210 mm)",format:new mxRectangle(0,0,583,827)},{key:"a6",title:"A6 (105 mm x 148 mm)",format:new mxRectangle(0,0,413,583)},{key:"a7",title:"A7 (74 mm x 105 mm)",format:new mxRectangle(0,0,291,413)},{key:"b4",title:"B4 (250 mm x 353 mm)",format:new mxRectangle(0,0,980,1390)},{key:"b5",title:"B5 (176 mm x 250 mm)",format:new mxRectangle(0,0,690,980)},{key:"16-9",title:"16:9 (1600 x 900)",format:new mxRectangle(0,0,900,1600)},{key:"16-10",title:"16:10 (1920 x 1200)",format:new mxRectangle(0,0,1200,1920)},{key:"4-3",title:"4:3 (1600 x 1200)",format:new mxRectangle(0,0,1200,1600)},{key:"custom",title:mxResources.get("custom"),format:null}]},function(i,e,t,n,a,l,r,o,s,A,g,d){s=null==s||s;var h,c,p=document.createElement("table"),m=document.createElement("tbody"),u=(p.style.marginTop="8px",h=document.createElement("tr"),(c=document.createElement("td")).style.whiteSpace="nowrap",c.style.fontSize="10pt",c.style.width=g?"80px":"120px",mxUtils.write(c,(a||mxResources.get("filename"))+":"),h.appendChild(c),document.createElement("input")),E=(u.setAttribute("value",e||""),u.style.marginLeft="4px",u.style.width=null!=d?d+"px":"180px",mxUtils.button(t,function(){null!=l&&!l(u.value)||(s&&i.hideDialog(),n(u.value))})),t=(E.className="geBtn gePrimaryBtn",this.init=function(){var e,t;null==a&&null!=r||(u.focus(),mxClient.IS_GC||mxClient.IS_FF||5<=document.documentMode||mxClient.IS_QUIRKS?u.select():document.execCommand("selectAll",!1,null),Graph.fileSupport&&null!=(e=p.parentNode)&&(i.editor.graph,t=null,mxEvent.addListener(e,"dragleave",function(e){null!=t&&(t.style.backgroundColor="",t=null),e.stopPropagation(),e.preventDefault()}),mxEvent.addListener(e,"dragover",mxUtils.bind(this,function(e){null==t&&(!mxClient.IS_IE||10<document.documentMode)&&((t=u).style.backgroundColor="#ebf2f9"),e.stopPropagation(),e.preventDefault()})),mxEvent.addListener(e,"drop",mxUtils.bind(this,function(e){null!=t&&(t.style.backgroundColor="",t=null),0<=mxUtils.indexOf(e.dataTransfer.types,"text/uri-list")&&(u.value=decodeURIComponent(e.dataTransfer.getData("text/uri-list")),E.click()),e.stopPropagation(),e.preventDefault()}))))},(c=document.createElement("td")).style.whiteSpace="nowrap",c.appendChild(u),h.appendChild(c),null==a&&null!=r||(m.appendChild(h),null!=g&&(null!=i.editor.diagramFileTypes&&((e=FilenameDialog.createFileTypes(i,u,i.editor.diagramFileTypes)).style.marginLeft="6px",e.style.width="74px",c.appendChild(e),u.style.width=null!=d?d-40+"px":"140px"),c.appendChild(FilenameDialog.createTypeHint(i,u,g)))),null!=r&&(h=document.createElement("tr"),(c=document.createElement("td")).colSpan=2,c.appendChild(r),h.appendChild(c),m.appendChild(h)),h=document.createElement("tr"),(c=document.createElement("td")).colSpan=2,c.style.paddingTop="20px",c.style.whiteSpace="nowrap",c.setAttribute("align","right"),mxUtils.button(mxResources.get("cancel"),function(){i.hideDialog(),null!=A&&A()}));t.className="geBtn",i.editor.cancelFirst&&c.appendChild(t),null!=o&&((e=mxUtils.button(mxResources.get("help"),function(){i.editor.graph.openLink(o)})).className="geBtn",c.appendChild(e)),mxEvent.addListener(u,"keypress",function(e){13==e.keyCode&&E.click()}),c.appendChild(E),i.editor.cancelFirst||c.appendChild(t),h.appendChild(c),m.appendChild(h),p.appendChild(m),this.container=p});FilenameDialog.filenameHelpLink=null,FilenameDialog.createTypeHint=function(i,t,n){function e(){a.setAttribute("src",Editor.helpImage),a.setAttribute("title",mxResources.get("help"));for(var e=0;e<n.length;e++)if(0<n[e].ext.length&&t.value.toLowerCase().substring(t.value.length-n[e].ext.length-1)=="."+n[e].ext){a.setAttribute("src",mxClient.imageBasePath+"/warning.png"),a.setAttribute("title",mxResources.get(n[e].title));break}}var a=document.createElement("img");a.style.cssText="vertical-align:top;height:16px;width:16px;margin-left:4px;background-repeat:no-repeat;background-position:center bottom;cursor:pointer;",mxUtils.setOpacity(a,70);return mxEvent.addListener(t,"keyup",e),mxEvent.addListener(t,"change",e),mxEvent.addListener(a,"click",function(e){var t=a.getAttribute("title");a.getAttribute("src")==Editor.helpImage?i.editor.graph.openLink(FilenameDialog.filenameHelpLink):""!=t&&i.showError(null,t,mxResources.get("help"),function(){i.editor.graph.openLink(FilenameDialog.filenameHelpLink)},null,mxResources.get("ok"),null,null,null,340,90),mxEvent.consume(e)}),e(),a},FilenameDialog.createFileTypes=function(e,l,r){for(var o=document.createElement("select"),t=0;t<r.length;t++){var i=document.createElement("option");i.setAttribute("value",t),mxUtils.write(i,mxResources.get(r[t].description)+" (."+r[t].extension+")"),o.appendChild(i)}mxEvent.addListener(o,"change",function(e){var t=r[o.value].extension,i=l.value.lastIndexOf(".");0<i?(t=r[o.value].extension,l.value=l.value.substring(0,i+1)+t):l.value=l.value+"."+t,"createEvent"in document?((i=document.createEvent("HTMLEvents")).initEvent("change",!1,!0),l.dispatchEvent(i)):l.fireEvent("onchange")});function n(e){var t=l.value.lastIndexOf("."),i=0;if(0<t)for(var n=l.value.toLowerCase().substring(t+1),a=0;a<r.length;a++)if(n==r[a].extension){i=a;break}o.value=i}return mxEvent.addListener(l,"change",n),mxEvent.addListener(l,"keyup",n),n(),o},function(){mxGraphView.prototype.validateBackgroundPage=function(){var t=this.graph;if(null!=t.container&&!t.transparentBackground){if(t.pageVisible){var e=this.getBackgroundPageBounds();if(null==this.backgroundPageShape){for(var i=t.container.firstChild;null!=i&&i.nodeType!=mxConstants.NODETYPE_ELEMENT;)i=i.nextSibling;null!=i&&(this.backgroundPageShape=this.createBackgroundPageShape(e),this.backgroundPageShape.scale=1,this.backgroundPageShape.isShadow=!mxClient.IS_QUIRKS,this.backgroundPageShape.dialect=mxConstants.DIALECT_STRICTHTML,this.backgroundPageShape.init(t.container),i.style.position="absolute",t.container.insertBefore(this.backgroundPageShape.node,i),this.backgroundPageShape.redraw(),this.backgroundPageShape.node.className="geBackgroundPage",mxEvent.addListener(this.backgroundPageShape.node,"dblclick",mxUtils.bind(this,function(e){t.dblClick(e)})),mxEvent.addGestureListeners(this.backgroundPageShape.node,mxUtils.bind(this,function(e){t.fireMouseEvent(mxEvent.MOUSE_DOWN,new mxMouseEvent(e))}),mxUtils.bind(this,function(e){null!=t.tooltipHandler&&t.tooltipHandler.isHideOnHover()&&t.tooltipHandler.hide(),t.isMouseDown&&!mxEvent.isConsumed(e)&&t.fireMouseEvent(mxEvent.MOUSE_MOVE,new mxMouseEvent(e))}),mxUtils.bind(this,function(e){t.fireMouseEvent(mxEvent.MOUSE_UP,new mxMouseEvent(e))})))}else this.backgroundPageShape.scale=1,this.backgroundPageShape.bounds=e,this.backgroundPageShape.redraw()}else null!=this.backgroundPageShape&&(this.backgroundPageShape.destroy(),this.backgroundPageShape=null);this.validateBackgroundStyles()}},mxGraphView.prototype.validateBackgroundStyles=function(){var e,t,i=this.graph,n=null==i.background||i.background==mxConstants.NONE?i.defaultPageBackgroundColor:i.background,a=null!=n&&this.gridColor!=n.toLowerCase()?this.gridColor:"#ffffff",l="none",r="",o=(i.isGridEnabled()&&(e=10,mxClient.IS_SVG?(l=unescape(encodeURIComponent(this.createSvgGrid(a))),l="url(data:image/svg+xml;base64,"+(l=window.btoa?btoa(l):Base64.encode(l,!0))+")",e=i.gridSize*this.scale*this.gridSteps):l="url("+this.gridImage+")",t=a=0,null!=i.view.backgroundPageShape&&(a=1+(o=this.getBackgroundPageBounds()).x,t=1+o.y),r=-Math.round(e-mxUtils.mod(this.translate.x*this.scale-a,e))+"px "+-Math.round(e-mxUtils.mod(this.translate.y*this.scale-t,e))+"px"),i.view.canvas);null!=o.ownerSVGElement&&(o=o.ownerSVGElement),null!=i.view.backgroundPageShape?(i.view.backgroundPageShape.node.style.backgroundPosition=r,i.view.backgroundPageShape.node.style.backgroundImage=l,i.view.backgroundPageShape.node.style.backgroundColor=n,i.container.className="geDiagramContainer geDiagramBackdrop",o.style.backgroundImage="none",o.style.backgroundColor=""):(i.container.className="geDiagramContainer",o.style.backgroundPosition=r,o.style.backgroundColor=n,o.style.backgroundImage=l)},mxGraphView.prototype.createSvgGrid=function(e){for(var t=this.graph.gridSize*this.scale;t<this.minGridSize;)t*=2;for(var i=this.gridSteps*t,n=[],a=1;a<this.gridSteps;a++){var l=a*t;n.push("M 0 "+l+" L "+i+" "+l+" M "+l+" 0 L "+l+" "+i)}return'<svg width="'+i+'" height="'+i+'" xmlns="'+mxConstants.NS_SVG+'"><defs><pattern id="grid" width="'+i+'" height="'+i+'" patternUnits="userSpaceOnUse"><path d="'+n.join(" ")+'" fill="none" stroke="'+e+'" opacity="0.2" stroke-width="1"/><path d="M '+i+" 0 L 0 0 0 "+i+'" fill="none" stroke="'+e+'" stroke-width="1"/></pattern></defs><rect width="100%" height="100%" fill="url(#grid)"/></svg>'};var a=mxGraph.prototype.panGraph,l=(mxGraph.prototype.panGraph=function(e,t){var i,n;a.apply(this,arguments),null!=this.shiftPreview1&&(null!=(i=this.view.canvas).ownerSVGElement&&(i=i.ownerSVGElement),n=this.gridSize*this.view.scale*this.view.gridSteps,n=-Math.round(n-mxUtils.mod(this.view.translate.x*this.view.scale+e,n))+"px "+-Math.round(n-mxUtils.mod(this.view.translate.y*this.view.scale+t,n))+"px",i.style.backgroundPosition=n)},mxGraph.prototype.updatePageBreaks=function(e,t,i){var n=this.view.scale,a=this.view.translate,l=this.pageFormat,r=n*this.pageScale,o=this.view.getBackgroundPageBounds(),s=(t=o.width,i=o.height,new mxRectangle(n*a.x,n*a.y,l.width*r,l.height*r)),A=(e=e&&Math.min(s.width,s.height)>this.minPageBreakDist)?Math.ceil(i/s.height)-1:0,g=e?Math.ceil(t/s.width)-1:0,d=o.x+t,h=o.y+i,n=(null==this.horizontalPageBreaks&&0<A&&(this.horizontalPageBreaks=[]),null==this.verticalPageBreaks&&0<g&&(this.verticalPageBreaks=[]),mxUtils.bind(this,function(e){if(null!=e){for(var t=e==this.horizontalPageBreaks?A:g,i=0;i<=t;i++){var n=e==this.horizontalPageBreaks?[new mxPoint(Math.round(o.x),Math.round(o.y+(i+1)*s.height)),new mxPoint(Math.round(d),Math.round(o.y+(i+1)*s.height))]:[new mxPoint(Math.round(o.x+(i+1)*s.width),Math.round(o.y)),new mxPoint(Math.round(o.x+(i+1)*s.width),Math.round(h))];null!=e[i]?(e[i].points=n,e[i].redraw()):((n=new mxPolyline(n,this.pageBreakColor)).dialect=this.dialect,n.isDashed=this.pageBreakDashed,n.pointerEvents=!1,n.init(this.view.backgroundPane),n.redraw(),e[i]=n)}for(i=t;i<e.length;i++)e[i].destroy();e.splice(t,e.length-t)}}));n(this.horizontalPageBreaks),n(this.verticalPageBreaks)},mxGraphHandler.prototype.shouldRemoveCellsFromParent),e=(mxGraphHandler.prototype.shouldRemoveCellsFromParent=function(e,t,i){for(var n=0;n<t.length;n++){if(this.graph.isTableCell(t[n])||this.graph.isTableRow(t[n]))return!1;if(this.graph.getModel().isVertex(t[n])){var a=this.graph.getCellGeometry(t[n]);if(null!=a&&a.relative)return!1}}return l.apply(this,arguments)},mxConnectionHandler.prototype.createMarker),i=(mxConnectionHandler.prototype.createMarker=function(){var i=e.apply(this,arguments);return i.intersects=mxUtils.bind(this,function(e,t){return!!this.isConnecting()||mxCellMarker.prototype.intersects.apply(i,arguments)}),i},mxGraphView.prototype.createBackgroundPageShape=function(e){return new mxRectangleShape(e,"#ffffff",this.graph.defaultPageBorderColor)},mxGraphView.prototype.getBackgroundPageBounds=function(){var e=this.getGraphBounds(),t=0<e.width?e.x/this.scale-this.translate.x:0,i=0<e.height?e.y/this.scale-this.translate.y:0,n=e.width/this.scale,e=e.height/this.scale,a=this.graph.pageFormat,l=this.graph.pageScale,r=a.width*l,a=a.height*l,l=Math.floor(Math.min(0,t)/r),o=Math.floor(Math.min(0,i)/a),t=Math.ceil(Math.max(1,t+n)/r),n=Math.ceil(Math.max(1,i+e)/a);return new mxRectangle(this.scale*(this.translate.x+l*r),this.scale*(this.translate.y+o*a),this.scale*(t-l)*r,this.scale*(n-o)*a)},mxGraph.prototype.panGraph),o=(mxGraph.prototype.panGraph=function(e,t){i.apply(this,arguments),this.dialect==mxConstants.DIALECT_SVG||null==this.view.backgroundPageShape||this.useScrollbarsForPanning&&mxUtils.hasScrollbars(this.container)||(this.view.backgroundPageShape.node.style.marginLeft=e+"px",this.view.backgroundPageShape.node.style.marginTop=t+"px")},mxPopupMenu.prototype.addItem),r=(mxPopupMenu.prototype.addItem=function(e,t,i,n,a,l){var r=o.apply(this,arguments);return null==l||l||mxEvent.addListener(r,"mousedown",function(e){mxEvent.consume(e)}),r},mxGraphHandler.prototype.isPropagateSelectionCell);mxGraphHandler.prototype.isPropagateSelectionCell=function(e,t,i){var n,a=!1,l=this.graph.model.getParent(e);return t?(n=this.graph.model.isEdge(e)?null:this.graph.getCellGeometry(e),a=!this.graph.model.isEdge(l)&&!this.graph.isSiblingSelected(e)&&(null!=n&&n.relative||!this.graph.isContainer(l)||this.graph.isPart(e))):(a=r.apply(this,arguments),(this.graph.isTableCell(e)||this.graph.isTableRow(e))&&(this.graph.isTable(n=l)||(n=this.graph.model.getParent(n)),a=!this.graph.selectionCellsHandler.isHandled(n)||this.graph.isCellSelected(n)&&this.graph.isToggleEvent(i.getEvent())||this.graph.isCellSelected(e)&&!this.graph.isToggleEvent(i.getEvent())||this.graph.isTableCell(e)&&this.graph.isCellSelected(l))),a},mxPopupMenuHandler.prototype.getCellForPopupEvent=function(e){for(var t=e.getCell(),i=this.graph.getModel(),n=i.getParent(t),a=this.graph.view.getState(n),l=this.graph.isCellSelected(t);null!=a&&(i.isVertex(n)||i.isEdge(n));){var r=this.graph.isCellSelected(n),l=l||r;(r||!l&&(this.graph.isTableCell(t)||this.graph.isTableRow(t)))&&(t=n),n=i.getParent(n)}return t}}();